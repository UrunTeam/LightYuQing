<%- include('../templates/head') %>

<body>

  <div class="yuQingContainer">
    <!-- 头部 -->
    <%- include('../templates/header') %>
    <div class="conter" id="conter">
      <el-button type="text" @click="dialogFormVisible = true">打开嵌套表单的 Dialog</el-button>

      <el-dialog :visible.sync="dialogFormVisible">
        <div slot="title" class="el-dialog__title">
          收获<el-tooltip class="item" effect="dark" content="Right Center 提示文字" placement="top">
            <i class="iconfont iconzu8"></i>
                    </div>
        <el-form :model="form">
          <el-form-item label="活动名称：">
            <el-input v-model="form.name" autocomplete="off"></el-input>
          </el-form-item>
          <el-form-item label="活动区域：">
            <el-select v-model="form.region" placeholder="请选择活动区域">
              <el-option label="区域一" value="shanghai"></el-option>
              <el-option label="区域二" value="beijing"></el-option>
            </el-select>
          </el-form-item>
        </el-form>
        <!-- 标签 -->
        <el-tag v-for="tag in tags" :key="tag.name" closable :type="tag.type" @close="handleClose(tag)">
          ${tag.name}
        </el-tag>
        <!-- 单选框 -->
        <el-radio-group v-model="radio1">
          <el-radio-button label="全局数据调控"></el-radio-button>
          <el-radio-button label="属地舆情研判-配置"></el-radio-button>
          <el-radio-button label="舆情预警-配置"></el-radio-button>
        </el-radio-group>
        <el-radio v-model="radio" label="1">备选项</el-radio>
        <el-radio v-model="radio" label="2">备选项</el-radio>

        <el-tree :props="props" :load="loadNode" lazy show-checkbox @check-change="handleCheckChange">
        </el-tree>

        <el-input class="search" placeholder="站点或标签名称" suffix-icon="iconfont iconlujing" v-model="input2">
        </el-input>
        <div slot="footer" class="dialog-footer">
          <el-button type="warning" @click="dialogFormVisible = false">取 消</el-button>
          <el-button type="primary" @click="dialogFormVisible = false">确 定</el-button>
        </div>
      </el-dialog>
    </div>
    <%- include('../templates/foot') %>
  </div>

</body>
<script>
  new Vue({
    el: '#conter',
    delimiters: ['${', '}'],
    data() {
      return {
        gridData: [{
          date: '2016-05-02',
          name: '王小虎',
          address: '上海市普陀区金沙江路 1518 弄'
        }, {
          date: '2016-05-04',
          name: '王小虎',
          address: '上海市普陀区金沙江路 1518 弄'
        }, {
          date: '2016-05-01',
          name: '王小虎',
          address: '上海市普陀区金沙江路 1518 弄'
        }, {
          date: '2016-05-03',
          name: '王小虎',
          address: '上海市普陀区金沙江路 1518 弄'
        }],
        dialogTableVisible: false,
        dialogFormVisible: false,
        form: {
          name: '',
          region: '',
          date1: '',
          date2: '',
          delivery: false,
          type: [],
          resource: '',
          desc: ''
        },
        tags: [
          { name: '标签一', type: 'primary' },
          { name: '标签二', type: 'primary' },
          { name: '标签三', type: 'primary' },
          { name: '标签四', type: 'primary' },
          { name: '标签五', type: 'primary' }
        ],
        radio1: '全局数据调控',
        radio: '1',

        props: {
          label: 'name',
          children: 'zones'
        },
        count: 1,
        input2: ''
      };
    },
    methods: {
      handleClose(tag) {
        this.tags.splice(this.tags.indexOf(tag), 1);
      },

      handleCheckChange(data, checked, indeterminate) {
        console.log(data, checked, indeterminate);
      },
      handleNodeClick(data) {
        console.log(data);
      },
      loadNode(node, resolve) {
        if (node.level === 0) {
          return resolve([{ name: 'region1' }, { name: 'region2' }]);
        }
        if (node.level > 3) return resolve([]);

        var hasChild;
        if (node.data.name === 'region1') {
          hasChild = true;
        } else if (node.data.name === 'region2') {
          hasChild = false;
        } else {
          hasChild = Math.random() > 0.5;
        }

        setTimeout(() => {
          var data;
          if (hasChild) {
            data = [{
              name: 'zone' + this.count++
            }, {
              name: 'zone' + this.count++
            }];
          } else {
            data = [];
          }

          resolve(data);
        }, 500);
      }
    }
  })

</script>

</html>